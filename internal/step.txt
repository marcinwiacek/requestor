<br>
<script async=async>
  function sendStep() {
     http = createPOST();
     http.onload = function() {
   if (http.status != 200) {
     alert(http.response);
   }
document.getElementById("lastresponsebody").value = http.response;
alert('jest odpowiedz '+http.response);
  };
  http.onerror = function() {
   alert('login error');
  };

document.getElementById("lastrequestheaders").value = document.getElementById("header").value;
document.getElementById("lastrequestbody").value  = document.getElementById("body").value;
const params = new URLSearchParams(window.location.search);
http.send("file="+params.get('file')+"&runstep="+document.getElementById("name").value);
//  http.send("login=1&user=" + sha256(loginhash + user) + "&password=" + sha256(loginhash + sha256(password)));
  return false;
  };
</script>
<table><tr><td>
<form onsubmit="return sendStep()">
Name<br><input type="text" id="name" name="name" value="<!--NAME-->" size=70>
<p><select name="type" id="type">
  <option value="GET">GET</option>
  <option value="POST">POST</option>
</select> <!--URLPREFIX-->&nbsp;&nbsp;<input type="text" id="url" name="url" value="<!--URL-->" size=70>
<p>Headers<br><textarea cols=80 rows=5 id="header" name="header"><!--HEADER--></textarea>
<p>Body<br><textarea cols=80 rows=5  id="body" name="body"><!--BODY--></textarea>
<p><button type="submit">Run</button>
</form>
</td><td>
<textarea cols=80 rows=5 id=lastrequestheaders></textarea>
<br>
<textarea cols=80 rows=5 id=lastrequestbody></textarea>
<br>
<textarea cols=80 rows=5 id=lastresponseheaders></textarea>
<br>
<textarea cols=80 rows=5 id=lastresponsebody></textarea>
</td></tr></table>
